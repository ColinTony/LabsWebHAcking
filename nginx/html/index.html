<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Practice Lab ‚Äî HTB-style Easy (by c0l1nr00t)</title>
  <style>
    :root{
      --bg:#060a12; --panel:#0a111b; --card:#0b1422; --text:#d1fae5; --muted:#84a59d;
      --neon:#22ff88; --neon2:#10b981; --neon3:#34d399; --alert:#f59e0b; --err:#ef4444;
    }
    *{box-sizing:border-box}
    body{
      font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto;
      margin:0; color:var(--text);
      background:
        linear-gradient(180deg,#04070e 0%, #060a12 100%),
        repeating-linear-gradient(0deg, rgba(255,255,255,.02), rgba(255,255,255,.02) 1px, transparent 2px, transparent 4px);
    }
    .container{max-width:1280px;margin:0 auto;padding:28px 20px}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:16px}
    .brand{font-weight:800;font-size:26px;letter-spacing:.4px}
    .brand span{background:linear-gradient(90deg,var(--neon),var(--neon3));-webkit-background-clip:text;background-clip:text;color:transparent}
    .by{font-size:13px;color:var(--muted)}
    .grid{display:grid;gap:14px;grid-template-columns:repeat(12,minmax(0,1fr))}
    .card{
      background:radial-gradient(900px 200px at 20% -50%, rgba(16,185,129,.10), transparent 40%), var(--card);
      border:1px solid rgba(16,185,129,.20); border-radius:16px; padding:16px 18px;
      box-shadow:0 10px 30px rgba(0,0,0,.25)
    }
    .muted{color:var(--muted); font-size:.95rem}
    code{background:#07101a;padding:.15rem .4rem;border-radius:.35rem}
    .section{margin:18px 0}
    .btn{
      --c1:var(--neon);--c2:var(--neon3);
      display:inline-flex;align-items:center;gap:.5rem;
      background:linear-gradient(90deg,var(--c1),var(--c2));
      color:#04130a; font-weight:800;
      padding:.6rem .9rem;border-radius:.7rem; text-decoration:none; position:relative; overflow:hidden;
      transition:transform .08s ease, filter .2s ease, box-shadow .2s ease;
      box-shadow:0 0 0 rgba(34,255,136,0);
      animation: glow 2.5s ease-in-out infinite alternate;
    }
    .btn.small{font-size:.92rem}
    .btn:hover{transform:translateY(-1px); filter:brightness(1.08); box-shadow:0 0 18px rgba(34,255,136,.25)}
    .btn:active{transform:translateY(0)}
    .btn.alt{--c1:#67e8f9;--c2:#22d3ee}
    .btn.ghost{background:transparent;color:var(--muted);border:1px dashed rgba(16,185,129,.35);animation:none}
    .btn.warn{--c1:#fde047;--c2:#f59e0b}
    .btnRow{display:flex;gap:.6rem;flex-wrap:wrap}
    @keyframes glow{from{box-shadow:0 0 0 rgba(34,255,136,0)} to{box-shadow:0 0 12px rgba(34,255,136,.35)}}

    footer{margin-top:26px;color:var(--muted);font-size:.86rem}

    /* Terminal panel */
    .terminal{background:var(--panel); border:1px solid rgba(16,185,129,.18); border-radius:14px; overflow:hidden; box-shadow:0 10px 30px rgba(0,0,0,.3)}
    .term-top{display:flex;align-items:center;gap:8px;padding:10px 12px;background:linear-gradient(180deg,#0a131f 0%, #07101a 100%); border-bottom:1px solid rgba(16,185,129,.2)}
    .dot{width:12px;height:12px;border-radius:50%}
    .dot.red{background:#ff5f56}.dot.yellow{background:#ffbd2e}.dot.green{background:#27c93f}
    .term-body{padding:12px 14px; font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size:13.5px; height:340px; overflow:auto; color:#cde9da}
    .prompt{color:#34d399}
    .line.new{opacity:0; transform:translateY(6px); animation: slideIn .25s ease forwards}
    @keyframes slideIn{to{opacity:1; transform:translateY(0)}}

    /* Sections sizing */
    .col-6{grid-column:span 6 / span 6}
    .col-12{grid-column:1 / -1}
    .col-4{grid-column:span 4 / span 4}
    .col-8{grid-column:span 8 / span 8}

    /* Tasks */
    .tasks{list-style:none;margin:0;padding:0;display:grid;gap:.45rem}
    .tag{display:inline-block;background:rgba(16,185,129,.18);color:var(--neon3);padding:.2rem .45rem;border-radius:.4rem;font-size:.78rem}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div>
        <div class="brand">HTB-style Lab <span>Easy/HARD</span></div>
        <div class="by">by c0l1nr00t ‚Äî ¬øseguro que puedes con todas las flags?</div>
      </div>
      <div class="btnRow">
        <a href="/juice/" class="btn small">Juice Shop</a>
        <a href="/dvwa/" class="btn small alt">DVWA</a>
        <a href="/webgoat/" class="btn small">WebGoat</a>
        <a href="/webwolf/" class="btn small alt">WebWolf</a>
        <a href="/files/" class="btn small ghost">/files</a>
        <a id="talk" class="btn small warn" href="javascript:void(0)">H√°blame</a>
      </div>
    </header>

    <div class="grid section">
      <div class="card col-4">
        <h3>Subdominios</h3>
        <p class="muted">A√±ade a <code>/etc/hosts</code>:</p>
<pre>127.0.0.1 intranet.lab blog.lab files.lab vuln.lab</pre>
        <div class="btnRow">
          <a href="http://intranet.lab:8080" target="_blank" class="btn small">intranet.lab</a>
          <a href="http://blog.lab:8080" target="_blank" class="btn small alt">blog.lab</a>
          <a href="http://files.lab:8080" target="_blank" class="btn small">files.lab</a>
          <a href="http://vuln.lab:8080" target="_blank" class="btn small alt">vuln.lab</a>
        </div>
      </div>

      <div class="card col-8">
        <h3>üéØ Desaf√≠os</h3>
        <p class="muted">Demuestra que no hablas‚Ä¶ act√∫as. <span class="tag">No hints</span></p>
        <ul class="tasks">
          <li>Flag Intranet ‚Äî ‚ÄúF√°cil‚Äù, dicen. <em>(No encontrar√°s ese directorio‚Ä¶)</em></li>
          <li>Flag Blog ‚Äî Los ‚Äúuploads‚Äù no guardan secretos‚Ä¶ ¬øo s√≠?</li>
          <li>Flag Files ‚Äî Si el autoindex te ayuda tanto, ¬øpor qu√© tardas?</li>
          <li>Buffer Overflow ‚Äî 0x41414141 suena simple‚Ä¶ hasta que no lo es.</li>
          <li>IDOR ‚Äî Nadie te dar√≠a un perfil admin sin auth‚Ä¶ ¬øverdad?</li>
          <li>LFI ‚Äî La escalera al infierno tiene dos puntos: <code>..</code> y <code>/</code>.</li>
        </ul>
      </div>

      <div class="card terminal col-12" aria-readonly="true">
        <div class="term-top">
          <span class="dot red"></span><span class="dot yellow"></span><span class="dot green"></span>
          <span class="muted">taunt@lab:~</span>
        </div>
        <div id="term" class="term-body" role="log" aria-live="polite" aria-label="Terminal de mensajes"></div>
      </div>
    </div>

    <div class="card section">
      <h3>üèÜ Scoreboard (Stealth)</h3>
      <p class="muted">Marca s√≥lo cuando el contenido de la URL realmente contiene la flag esperada.</p>
      <div class="grid">
        <div class="col-6">
          <ul class="tasks">
            <li><a class="btn small" onclick="verify('intranet','http://intranet.lab:8080/private/flag_intranet_c0l1nr00t.txt')">Flag Intranet</a> <span id="s-intranet"></span></li>
            <li><a class="btn small alt" onclick="verify('blog','http://blog.lab:8080/wp-content/uploads/flag_blog_c0l1nr00t.txt')">Flag Blog</a> <span id="s-blog"></span></li>
            <li><a class="btn small" onclick="verify('files','http://files.lab:8080/secrets/flag_files_c0l1nr00t.txt')">Flag Files</a> <span id="s-files"></span></li>
          </ul>
        </div>
        <div class="col-6">
          <ul class="tasks">
            <li><a class="btn small alt" onclick="verify('bof','http://localhost:8080/assets/bover_flag.txt')">Flag BufferOverflow</a> <span id="s-bof"></span></li>
            <li><a class="btn small" onclick="verify('idor','http://vuln.lab:8080/api/profile?user=1337')">Flag IDOR</a> <span id="s-idor"></span></li>
            <li><a class="btn small alt" onclick="verify('lfi','http://vuln.lab:8080/api/view?file=../../secret/flag_hard_c0l1nr00t.txt')">Flag LFI</a> <span id="s-lfi"></span></li>
          </ul>
        </div>
      </div>
      <p class="muted">Progreso: <span id="pct">0%</span></p>
      <div class="btnRow">
        <a class="btn warn small" onclick="resetScore()">Reiniciar progreso</a>
        <a class="btn ghost small" onclick="exportScore()">Exportar</a>
        <label class="btn ghost small" style="cursor:pointer">
          Importar<input id="importFile" type="file" accept="application/json" style="display:none" />
        </label>
      </div>
    </div>

    <footer>¬© 2025 ‚Äî Practice Lab by c0l1nr00t</footer>
  </div>

  <script>
    // Scoreboard (Stealth) + Terminal events
    const KEY='htb_easy_v2_hard_flags';
    const expect = {
      intranet: 'flag{c0l1nr00t_intranet}',
      blog: 'flag{c0l1nr00t_blog}',
      files: 'flag{c0l1nr00t_files}',
      bof: 'flag{c0l1nr00t_bof}',
      idor: 'flag{c0l1nr00t_idor}',
      lfi: 'flag{c0l1nr00t_hard}'
    };
    let state = load();
    const term = document.getElementById('term');
    let terminalPowered = true;

    const taunts = [
      "[tip] /etc/hosts es tu amigo‚Ä¶ si sabes usarlo.",
      "[recon] ¬øUploads? Nada interesante‚Ä¶ probablemente.",
      "[taunt] Ya casi. Falta 'casi'.",
      "[hint?] 0x41 0x41 0x41 0x41 ‚Äî ¬øte suena?",
      "[vuln.lab] admin sin auth‚Ä¶ imposible, ¬øno?",
      "[LFI] Dos puntos‚Ä¶ y el mundo a tus pies.",
      "[files] Autoindex ON. A√∫n te pierdes lo obvio.",
      "[bof] gets(buf) ‚Äî s√≠, en 2025, qu√© verg√ºenza.",
      "[status] A√∫n sin todas las flags. Te dije que no pod√≠as.",
      "[ego] ¬øHacker? Sorpr√©ndeme.",
      "[mindgame] Si fuera f√°cil, cualquiera lo har√≠a.",
      "[poke] Tal vez deber√≠as pedir un hint‚Ä¶ digo, si te rindes."
    ];

    function timestamp(){ return new Date().toLocaleTimeString(); }
    function appendLine(msg, kind="info"){
      if(!terminalPowered) return;
      const el = document.createElement('div');
      el.className = 'line new';
      const badge = kind === 'ok' ? '‚úÖ' : kind === 'err' ? '‚ùå' : kind === 'warn' ? '‚ö†Ô∏è' : '‚àô';
      el.innerHTML = `<span class="prompt">taunt@lab</span>:<span>$</span> ${badge} ${msg} <span class="muted">(${timestamp()})</span>`;
      term.appendChild(el);
      term.scrollTop = term.scrollHeight;
    }
    function powerDownTerminal(){
      terminalPowered = false;
      appendLine("Me has vencido - Mis respetos.", "ok");
      term.style.filter = "grayscale(1) brightness(0.7)";
    }

    // H√°blame button to print a taunt on demand
    document.getElementById('talk').onclick = () => {
      const msg = taunts[Math.floor(Math.random()*taunts.length)];
      appendLine(msg);
    };

    // Import/Export
    document.getElementById('importFile').onchange = (e)=>{
      const f=e.target.files[0]; if(!f) return;
      const r=new FileReader();
      r.onload=()=>{ try{ state=JSON.parse(r.result); save(); render(); appendLine("Estado importado.", "ok"); }catch{ alert('JSON inv√°lido'); } };
      r.readAsText(f);
    };

    function verify(key,url){
      appendLine(`Verificando ${key} ‚Üí ${url}`);
      fetch(url,{cache:'no-store'}).then(async r=>{
        if(!r.ok) throw new Error('HTTP '+r.status);
        const t=await r.text();
        if(t.includes(expect[key])){
          state[key]=true; save(); render();
          appendLine(`Flag ${key} confirmada.`, "ok");
          checkCompletion();
        } else {
          appendLine(`Flag ${key} NO coincide.`, "err");
          alert('Flag no coincide');
        }
      }).catch((err)=>{
        appendLine(`Error accediendo a ${key}: ${err.message||err}`, "err");
        alert('No pude acceder a la URL. ¬ø/etc/hosts actualizado?');
      });
    }

    function checkCompletion(){
      const all = ['intranet','blog','files','bof','idor','lfi'];
      const done = all.every(k=>state[k]);
      if(done){
        appendLine("Todas las flags obtenidas. Felicitaciones, ganaste.", "ok");
        powerDownTerminal();
        alert("üéâ ¬°Felicitaciones! Completaste todas las flags.");
      }
    }

    function resetScore(){ if(confirm('¬øBorrar progreso?')){ localStorage.removeItem(KEY); state={}; render(); appendLine("Progreso reiniciado.", "warn"); } }
    function exportScore(){ const b=new Blob([JSON.stringify(state)],{type:'application/json'}); const u=URL.createObjectURL(b); const a=document.createElement('a'); a.href=u; a.download='flags.json'; a.click(); URL.revokeObjectURL(u); appendLine("Progreso exportado.", "ok"); }

    function load(){ try{ return JSON.parse(localStorage.getItem(KEY)||'{}'); }catch{ return {}; } }
    function save(){ localStorage.setItem(KEY, JSON.stringify(state)); }

    function render(){
      document.getElementById('s-intranet').textContent = state.intranet ? '‚úÖ '+expect.intranet : '';
      document.getElementById('s-blog').textContent     = state.blog     ? '‚úÖ '+expect.blog     : '';
      document.getElementById('s-files').textContent    = state.files    ? '‚úÖ '+expect.files    : '';
      document.getElementById('s-bof').textContent      = state.bof      ? '‚úÖ '+expect.bof      : '';
      document.getElementById('s-idor').textContent     = state.idor     ? '‚úÖ '+expect.idor     : '';
      document.getElementById('s-lfi').textContent      = state.lfi      ? '‚úÖ '+expect.lfi      : '';
      const total=6, done=['intranet','blog','files','bof','idor','lfi'].filter(k=>state[k]).length;
      document.getElementById('pct').textContent=Math.round((done/total)*100)+'%';
    }
    render();

    // Seed message
    appendLine('Bienvenido. ¬øQuieres que te hable? Pulsa "H√°blame".');
  </script>
</body>
</html>
